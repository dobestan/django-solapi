#!/bin/bash
# Pre-push hook: runs before each push
# Matches CI typecheck and test jobs

set -e

echo "ğŸ” Running pre-push checks..."

# Check if uv is available
if ! command -v uv &> /dev/null; then
    echo "âŒ uv not found. Please install uv first."
    exit 1
fi

# Mypy type check
echo "  â†’ mypy solapi_sms/..."
uv run mypy solapi_sms/

# Run tests
echo "  â†’ pytest tests/..."
uv run pytest tests/ -v --tb=short

echo "âœ… Pre-push checks passed!"
